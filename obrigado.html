<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Obrigado pela sua compra!</title>
  
  <!-- TikTok Pixel -->
  <script>
    !function (w, d, t) {
      w.TiktokAnalyticsObject = t;
      var ttq = w[t] = w[t] || [];
      ttq.methods = ["page","track","identify","instances","debug","on","off","once","ready","alias","group","enableCookie"];
      ttq.setAndDefer = function(t,e){ t[e] = function(){ t.push([e].concat(Array.prototype.slice.call(arguments,0))) } };
      for(var i=0;i<ttq.methods.length;i++) ttq.setAndDefer(ttq,ttq.methods[i]);
      ttq.load = function(e,n){
        var i="https://analytics.tiktok.com/i18n/pixel/events.js";
        ttq._i=ttq._i||{};
        ttq._i[e]=[];
        ttq._i[e]._u=i;
        ttq._t=ttq._t||{};
        ttq._t[e]=+new Date;
        ttq._o=ttq._o||{};
        ttq._o[e]=n||{};
        var o=d.createElement("script");
        o.type="text/javascript";
        o.async=!0;
        o.src=i+"?sdkid="+e+"&lib="+t;
        var a=d.getElementsByTagName("script")[0];
        a.parentNode.insertBefore(o,a)
      };
      ttq.load('SEU_PIXEL_ID_AQUI');
      ttq.page();
    }(window, document, 'ttq');
  </script>

  <!-- Hotmart Tracking -->
  <script>
    var hotmartTag = hotmartTag || [];
    hotmartTag.push(['_setAccount', 'SEU_ID_HOTMART_AQUI']);
    hotmartTag.push(['_trackPageview']);
  </script>
  <script async src="https://static.hotmart.com/track.js"></script>
</head>
<body style="font-family: Arial, sans-serif; text-align: center; padding: 50px;">

  <h1>ðŸŽ‰ Obrigado pela sua compra!</h1>
  <p>Seu pedido foi processado com sucesso.</p>
  <p>Em alguns instantes vocÃª receberÃ¡ um e-mail com os dados de acesso.</p>

  <!-- Evento de compra TikTok -->
  <script>
    ttq.track('CompletePayment', {
      value: 34.00,
      currency: 'BRL'
    });
  </script>

  <!-- Server-Side Event API TikTok -->
  <script>
    (function() {
      const ttclid = localStorage.getItem("ttclid");
      if (ttclid) {
        fetch("https://business-api.tiktokglobalshop.com/open_api/v1.3/track/event/", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
            "Access-Token": "SUA_ACCESS_TOKEN_API"
          },
          body: JSON.stringify({
            event: "CompletePayment",
            event_id: Date.now().toString(),
            timestamp: Math.floor(Date.now() / 1000),
            context: { ad: { callback: ttclid }},
            properties: { currency: "BRL", value: 34.00 }
          })
        })
        .then(res => res.json())
        .then(data => console.log("ConversÃ£o enviada:", data))
        .catch(err => console.error("Erro ao enviar conversÃ£o:", err));
      }
    })();
  </script>

</body>
</html>
